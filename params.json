{"name":"sepa.js","tagline":"Create and validate SEPA XML transactions","body":"Welcome to sepa.js\r\n==================\r\n\r\nThis library can be used to generate the XML structure used\r\nfor [SEPA](http://en.wikipedia.org/wiki/Single_Euro_Payments_Area) payment\r\ntransfers. It is currently in its early stages and mostly geared towards German\r\nbatched direct debit transactions.\r\n\r\nIt will work in the browser or using node.js. To use it in the browser, just\r\ninclude it via script-tag and access through the `SEPA` variable. For node, see\r\nthe example below. You can find live examples in the `examples` directory.\r\n\r\nIf you have extended sepa.js for a different purpose, please contribute the code\r\neither via email or ideally as a pull request. If you are missing something,\r\nplease create an issue.\r\n\r\n* Each SEPA document contains exactly one group header, accessible via the `grpHdr` property.\r\n* You can add multiple paymentInfo blocks to a document, i.e one per sequenceType (FRST/RCUR)\r\n* A payment info block can contain multiple transactions.\r\n\r\nExample\r\n-------\r\nHere is a simple node.js example:\r\n```javascript\r\n    var SEPA = require(\"sepa\");\r\n\r\n    var doc = new SEPA.Document();\r\n    doc.grpHdr.id = \"XMPL.20140201.TR0\";\r\n    doc.grpHdr.created = new Date();\r\n    doc.grpHdr.initiatorName = \"Example LLC\";\r\n\r\n    var info = new SEPA.PaymentInfo();\r\n    info.collectionDate = new Date();\r\n    info.creditorIBAN = \"DE87123456781234567890\";\r\n    info.creditorBIC = \"XMPLDEM0XXX\";\r\n    info.creditorName = \"Example LLC\";\r\n    info.creditorId = \"DE98ZZZ09999999999\";\r\n    doc.addPaymentInfo(info);\r\n\r\n    var tx = new SEPA.Transaction();\r\n    tx.debitorName = \"Example Customer\";\r\n    tx.debitorIBAN = \"DE40987654329876543210\";\r\n    tx.debitorBIC = \"CUSTDEM0XXX\";\r\n    tx.mandateId = \"XMPL.CUST487.2014\"\r\n    tx.mandateSignatureDate = new Date(\"2014-02-01\");\r\n    tx.amount = 50.23;\r\n    tx.remittanceInfo = \"INVOICE 54\";\r\n    tx.end2endId = \"XMPL.CUST487.INVOICE.54\";\r\n    info.addTransaction(tx);\r\n\r\n    console.log(doc.toString());\r\n```\r\n\r\n### XML Result\r\n```xml\r\n    <?xml version=\"1.0\"?>\r\n    <Document schemaLocation=\"urn:iso:std:iso:20022:tech:xsd:pain.008.003.02 pain.008.003.02.xsd\">\r\n      <CstmrDrctDbtInitn>\r\n        <GrpHdr>\r\n          <MsgId>XMPL.20140201.TR0</MsgId>\r\n          <CreDtTm>2014-01-23T19:16:10.285Z</CreDtTm>\r\n          <NbOfTxs>1</NbOfTxs>\r\n          <CtrlSum>50.23</CtrlSum>\r\n          <InitgPty>\r\n            <Nm>Example LLC</Nm>\r\n          </InitgPty>\r\n        </GrpHdr>\r\n        <PmtInf>\r\n          <PmtInfId>XMPL.20140201.TR0.0</PmtInfId>\r\n          <PmtMtd>DD</PmtMtd>\r\n          <BtchBookg>true</BtchBookg>\r\n          <NbOfTxs>1</NbOfTxs>\r\n          <CtrlSum>50.23</CtrlSum>\r\n          <PmtTpInf>\r\n            <SvcLvl>\r\n              <Cd>SEPA</Cd>\r\n            </SvcLvl>\r\n            <LclInstrm>\r\n              <Cd>CORE</Cd>\r\n            </LclInstrm>\r\n            <SeqTp>FRST</SeqTp>\r\n          </PmtTpInf>\r\n          <ReqdColltnDt>2014-01-23</ReqdColltnDt>\r\n          <Cdtr>\r\n            <Nm>Example LLC</Nm>\r\n          </Cdtr>\r\n          <CdtrAcct>\r\n            <Id>\r\n              <IBAN>DE87123456781234567890</IBAN>\r\n            </Id>\r\n          </CdtrAcct>\r\n          <CdtrAgt>\r\n            <FinInstnId>\r\n              <BIC>XMPLDEM0XXX</BIC>\r\n            </FinInstnId>\r\n          </CdtrAgt>\r\n          <ChrgBr>SLEV</ChrgBr>\r\n          <CdtrSchmeId>\r\n            <Id>\r\n              <PrvtId>\r\n                <Othr>\r\n                  <Id>DE98ZZZ09999999999</Id>\r\n                  <SchmeNm>\r\n                    <Prtry>SEPA</Prtry>\r\n                  </SchmeNm>\r\n                </Othr>\r\n              </PrvtId>\r\n            </Id>\r\n          </CdtrSchmeId>\r\n          <DrctDbtTxInf>\r\n            <PmtId>\r\n              <EndToEndId>XMPL.CUST487.INVOICE.54</EndToEndId>\r\n            </PmtId>\r\n            <InstdAmt Ccy=\"EUR\">50.23</InstdAmt>\r\n            <DrctDbtTx>\r\n              <MndtRltdInf>\r\n                <MndtId>XMPL.CUST487.2014</MndtId>\r\n                <DtOfSgntr>2014-02-01</DtOfSgntr>\r\n                <AmdmntInd>false</AmdmntInd>\r\n              </MndtRltdInf>\r\n            </DrctDbtTx>\r\n            <DbtrAgt>\r\n              <FinInstnId>\r\n                <BIC>CUSTDEM0XXX</BIC>\r\n              </FinInstnId>\r\n            </DbtrAgt>\r\n            <Dbtr>\r\n              <Nm>Example Customer</Nm>\r\n            </Dbtr>\r\n            <DbtrAcct>\r\n              <Id>\r\n                <IBAN>DE40987654329876543210</IBAN>\r\n              </Id>\r\n            </DbtrAcct>\r\n            <RmtInf>\r\n              <Ustrd>INVOICE 54</Ustrd>\r\n            </RmtInf>\r\n          </DrctDbtTxInf>\r\n        </PmtInf>\r\n      </CstmrDrctDbtInitn>\r\n    </Document>\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}